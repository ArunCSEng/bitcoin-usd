const a=document.getElementById("mazeCanvas"),b=a.getContext("2d"),c=15,d=a.width/c;let e,f,g,h=[],i=[],j=document.getElementById("sudokuTable"),k=document.getElementById("solveSudokuBtn");function l(a){const b=Array(a).fill(null).map(()=>Array(a).fill(1)),c=[];let d=0,e=0;for(b[e][d]=0,c.push([d,e]);c.length;){const[a,d]=c[c.length-1],e=[];a>1&&1===b[d][a-2]&&e.push([-2,0]),a<a-2&&1===b[d][a+2]&&e.push([2,0]),d>1&&1===b[d-2][a]&&e.push([0,-2]),d<d-2&&1===b[d+2][a]&&e.push([0,2]),e.length>0?(()=>{const[f,g]=e[Math.floor(Math.random()*e.length)];b[d+g/2][a+f/2]=0,b[d+g][a+f]=0,c.push([a+f,d+g])})():c.pop()}return b}function m(){b.clearRect(0,0,a.width,a.height);for(let a=0;a<c;a++)for(let e=0;e<c;e++)1===e[a]&&(b.fillStyle="#000",b.fillRect(a*d,e*d,d,d));b.fillStyle="#f7931a",b.fillRect(f.x*d,f.y*d,d,d),b.fillStyle="#33cc33",b.fillRect(g.x*d,g.y*d,d,d)}function n(){e=l(c),f={x:0,y:0},g={x:c-1,y:c-1},m()}function o(){h=Array.from({length:9},()=>Array(9).fill(0)),i=Array.from({length:9},()=>Array(9).fill(0));function a(b,c,d,e){for(let f=0;f<9;f++)if(e[c][f]===b||e[f][d]===b)return!1;const g=3*Math.floor(c/3)+Math.floor(f/3),h=3*Math.floor(d/3)+f%3;return!(e[g][h]===b)}function b(c){for(let d=0;d<9;d++)for(let e=0;e<9;e++)if(0===c[d][e]){for(let f=1;f<=9;f++)if(a(f,d,e,c))return c[d][e]=f,b(c)||!(c[d][e]=0);return!1}return!0}b(i);const c=30,d=Array.from({length:81},(_,a)=>a);for(let a=0;a<c;a++){const b=d.splice(Math.floor(Math.random()*d.length),1)[0],e=Math.floor(b/9),f=b%9;h[e][f]=i[e][f]}}k.addEventListener("click",()=>{j.innerHTML="",i.forEach(a=>{const b=document.createElement("tr");a.forEach(a=>{const c=document.createElement("td");c.textContent=a,b.appendChild(c)}),j.appendChild(b)})});
